# ShitsuMun 프로젝트 분석 보고서

## 프로젝트 개요
**ShitsuMun**은 일본IT학회에서 개발한 스무고개 게임을 기반으로 한 실시간 채팅 웹 애플리케이션입니다.

## 프로젝트 구조

### 파일 구조
```
프로젝트 루트/
├── html/              # 메인 웹 애플리케이션 디렉토리
│   ├── *.php         # PHP 백엔드 파일들
│   ├── *.html        # 정적 HTML 페이지들
│   └── *.png         # 이미지 리소스들
└── p232_22000594_1.war  # WAR 배포 파일
```

## 기술 스택

### 백엔드
- **PHP**: 서버사이드 로직 처리
- **MySQL**: 데이터베이스 (서버: localhost, DB: shitsumun)
- **세션 관리**: PHP Sessions

### 프론트엔드
- **HTML5**: 마크업
- **CSS3**: 스타일링 (Bootstrap 4.6.2 + 커스텀 스타일)
- **JavaScript**: 클라이언트 사이드 로직
- **jQuery 3.6.0**: DOM 조작 및 AJAX 통신
- **Bootstrap 5.3.2 & 4.6.2**: UI 프레임워크
- **Font Awesome**: 아이콘
- **Google Fonts**: 폰트 (Noto Sans JP, Space Mono)

## 주요 기능

### 1. 사용자 인증 시스템
- **로그인/로그아웃**: `login_server.php`, `logout.php`
- **회원가입**: `register_server.php`, `register.html`
- **세션 관리**: PHP 세션을 통한 사용자 상태 관리
- **다국어 지원**: 한국어/일본어 인터페이스

### 2. 채팅 시스템
- **실시간 채팅**: AJAX 기반 실시간 메시지 송수신
- **대기실 채팅**: 전체 사용자가 참여할 수 있는 공용 채팅
- **채팅방**: 개별 스무고개 게임을 위한 독립적인 채팅 공간

### 3. 스무고개 게임 시스템
- **채팅방 생성**: 방장이 키워드를 설정하여 채팅방 생성
- **게임 진행**: 
  - 방장이 키워드 설정
  - 참가자가 20회 질문 기회를 가짐
  - 키워드 맞추기 시도 (3회 제한)
- **게임 종료**: 정답 맞히거나 기회 소진 시 자동 종료

### 4. 방 관리 시스템
- **채팅방 목록**: 실시간으로 업데이트되는 채팅방 목록
- **인원 제한**: 방당 최대 2명 (방장 + 참가자 1명)
- **방 삭제**: 방장 권한으로 채팅방 삭제 가능
- **자동 정리**: 24시간 지난 빈 방 자동 삭제

## 데이터베이스 구조 (추정)

### 주요 테이블
1. **user 테이블**
   - user_id (사용자 ID)
   - user_pw (암호화된 비밀번호)
   - user_nick (닉네임)
   - nation (국가 정보: korea/japan)

2. **chatrooms 테이블**
   - id (채팅방 ID)
   - name (채팅방 이름)
   - creator (방장 ID)
   - keyword (스무고개 키워드)
   - current_users (현재 참가자 수)
   - answer_correct (정답 상태)
   - ask_count (질문 횟수)
   - created_at (생성 시간)
   - nation (언어 설정)

3. **messages 테이블** (추정)
   - id (메시지 ID)
   - chatroom_id (채팅방 ID)
   - username (사용자명)
   - message (메시지 내용)
   - timestamp (전송 시간)

## 보안 특징
- **SQL Injection 방지**: `real_escape_string()` 사용
- **비밀번호 암호화**: `password_verify()` 함수 사용
- **세션 보안**: PHP 세션을 통한 사용자 인증
- **입력 검증**: JavaScript를 통한 클라이언트 측 검증

## 다국어 지원
- 한국어/일본어 인터페이스 지원
- 사용자 국가 정보에 따른 자동 언어 선택
- 각 언어별 별도 페이지 제공 (예: `chat_list.php` / `chat_list_jp.php`)

## UI/UX 특징
- **반응형 디자인**: Bootstrap을 활용한 모바일 친화적 인터페이스
- **실시간 업데이트**: AJAX를 통한 실시간 데이터 갱신
- **직관적인 UI**: 채팅 및 게임 기능을 통합한 사용자 친화적 인터페이스
- **커스텀 스타일**: 보라색 계열의 일관된 색상 테마

## 프로젝트 특징 및 한계점

### 장점
- 실시간 통신 기능 구현
- 게임과 채팅의 효과적인 통합
- 다국어 지원
- 직관적인 사용자 인터페이스

### 개선점
- 하드코딩된 데이터베이스 정보 (보안 위험)
- SQL Injection에 대한 추가적인 보안 강화 필요
- 코드 구조화 및 모듈화 개선 여지
- 에러 처리 및 예외 상황 대응 강화 필요

## 개발자 정보
- 한동대학교 일본IT학회 소속
- 학번: 22000104, 22000576, 22000594, 22100275

## 배포 형태
- WAR 파일로 패키징 (`p232_22000594_1.war`)
- 웹 서버 배포용으로 준비됨

---
*분석일: 2025년 1월*
*분석 도구: Claude Code*
